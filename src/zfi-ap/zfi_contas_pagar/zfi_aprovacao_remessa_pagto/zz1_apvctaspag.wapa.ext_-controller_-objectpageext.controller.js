sap.ui.define([],function(){"use strict";return{onInit:function(){if(!this._sIdPrefix){this._sIdPrefix="br.com.trescoracoes.aprovctaspagar::sap.suite.ui.generic.template.ObjectPage.view.Details::ContasPagar--Documentos::"}this.byId(this._sIdPrefix+"analy+
ticalTable").getParent().setIgnoreFromPersonalisation("CompanyCodeName, SupplierFullName,CashPlanningGroupName,RepTypeText, DocTypeText, BranchText, HouseBankText, FormaPagamentoText, ItemStatus, tipo, Bstat")},onAfterRendering:function(e){let t=this.byI+
d(this._sIdPrefix+"analyticalTable");t.attachBusyStateChanged(this._onBusyStateChanged)},_onBusyStateChanged:function(e){let t=e.getParameter("busy");if(!t&&!this._bColumnOptimizationDone){let t=e.getSource();let n=null;if(sap.ui.table.TablePointerExtens+
ion){n=new sap.ui.table.TablePointerExtension(t)}else{n=new sap.ui.table.extensions.Pointer(t)}let a=t.getColumns();for(let e=a.length;e>=0;e--){n.doAutoResizeColumn(e)}}},onUpdateGrpTes:function(e){let t=this.getView().getBindingContext().getObject();th+
is.getView().getModel().read("/SearchHelpCashPlanningGroup",{filters:[new sap.ui.model.Filter({path:"Language",operator:sap.ui.model.FilterOperator.EQ,value1:"PT"})],success:function(e){this.generateFileSearchHelp(e.results)}.bind(this),error:function(e)+
{sap.m.MessageBox.error("Falha ao recuperar os Grupos de Tesouraria")}.bind(this)})},generateFileSearchHelp:function(e){var t=this;var n=new sap.m.ComboBox({id:"oComboBox",items:{path:"/items",template:new sap.ui.core.ListItem({key:"{CashPlanningGroup}",+
text:"{CashPlanningGroup}",additionalText:"{CashPlanningGroupDescription}"}),templateShareable:false},showSecondaryValues:true});n.setModel(new sap.ui.model.json.JSONModel({items:e}));var a=new sap.m.VBox({width:"100%",justifyContent:"Inherit",fitContain+
er:true,items:[new sap.m.Text({text:"Favor informar o Grupo de Tesouraria desejado."}),new sap.m.Text({text:" "}),n]});var o=new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"Alterar Grupo de Tesouraria",press:function(){var e=sap.ui.getCore().byI+
d("oComboBox").getSelectedKey();if(!e){sap.m.MessageBox.information("Favor informar o Grupo de Tesouraria desejado.")}else{i.close();t.alteraGrupo(e)}}});var s=new sap.m.Button({text:"Cancelar",type:"Reject",press:function(){i.close();i.destroy();this.ge+
tView().removeAllDependents()}.bind(this)});var i=new sap.m.Dialog({type:"Message",title:"Alterar Grupo de Tesouraria",resizable:true,draggable:true,titleAlignment:sap.m.TitleAlignment.Center,content:a,beginButton:o,endButton:s,afterClose:function(){i.de+
stroy()},contentWidth:"20%"});i.open()},alteraGrupo:function(e){var t=this;const n="/changeGroup";var a=this.templateBaseExtension.getExtensionAPI();var o=this.getView().byId("br.com.trescoracoes.aprovctaspagar::sap.suite.ui.generic.template.ObjectPage.v+
iew.Details::ContasPagar--Documentos::analyticalTable");var s=o.getPlugins()[0].getTableBinding().getSelectedContexts();var i=o.getPlugins()[0].getTableBinding().getTotalSize();for(let o of s){let s=o.getObject();let r="datetime'"+new Date(s.NetDueDate.g+
etTime()+(new Date).getTimezoneOffset()*60*1e3)+"'";a.securedExecution(new Promise(function(a,o){this.getView().getModel().callFunction(n,{method:"POST",urlParameters:{CompanyCode:encodeURIComponent(s.CompanyCode),PaymentRunID:encodeURIComponent(s.Paymen+
tRunID),NetDueDate:r,CashPlanningGroup:encodeURIComponent(s.CashPlanningGroup),Supplier:encodeURIComponent(s.Supplier),PaymentDocument:encodeURIComponent(s.PaymentDocument),AccountingDocument:encodeURIComponent(s.AccountingDocument),AccountingDocumentIte+
m:encodeURIComponent(s.AccountingDocumentItem),FiscalYear:encodeURIComponent(s.FiscalYear),novogrptesouraria:encodeURIComponent(e),RepType:encodeURIComponent(s.RepType)},success:function(e,n){i--;this.templateBaseExtension.getExtensionAPI().refreshAncest+
ors();if(i==0)window.history.go(-1);else{sap.m.MessageBox.success("Grupo alterado com sucesso");t.getView().byId("br.com.trescoracoes.aprovctaspagar::sap.suite.ui.generic.template.ObjectPage.view.Details::ContasPagar--Documentos::analyticalTable").getMod+
el().refresh(true)}}.bind(this),error:function(e){o(e)}})}.bind(this)).catch(function(e){sap.m.MessageToast.show(e)}),{busy:{set:true,check:true}})}}}});                                                                                                      