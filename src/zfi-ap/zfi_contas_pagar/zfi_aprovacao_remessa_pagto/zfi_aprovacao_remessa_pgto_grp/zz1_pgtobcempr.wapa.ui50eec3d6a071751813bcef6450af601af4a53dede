sap.ui.define([],                                                                                                                                                                                                                                              
    function () {                                                                                                                                                                                                                                              
        "use strict";                                                                                                                                                                                                                                          
        return {                                                                                                                                                                                                                                               
            onInit: function () {                                                                                                                                                                                                                              
                if (!this._sIdPrefix) {                                                                                                                                                                                                                        
                    this._sIdPrefix =                                                                                                                                                                                                                          
                        "br.com.trescoracoes.fipgtobcoempresa::sap.suite.ui.generic.template.ListReport.view.ListReport::ZC_FI_PGTO_BCO_EMPRESA--";                                                                                                            
                }                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                this.byId(this._sIdPrefix + "analyticalTable").getParent().setIgnoreFromPersonalisation("PaymentCurrency, BankName, PaymentMethodName, CompanyCodeName, RepTypeText,Status");                                                                  
            },                                                                                                                                                                                                                                                 
            onNavegar: function (oEvent) {                                                                                                                                                                                                                     
                let oExtApi = this.templateBaseExtension.getExtensionAPI();                                                                                                                                                                                    
                let oControl = oEvent.getSource();                                                                                                                                                                                                             
                this.getView().setBusy(true);                                                                                                                                                                                                                  
                for (let oCtx of oExtApi.getSelectedContexts()) {                                                                                                                                                                                              
                    //this.getView().getModel().read("/URL(CompanyCode='" + encodeURIComponent(oCtx.getObject().CompanyCode) + "',NetDueDate=datetime'" + encodeURIComponent(new Date(oCtx.getObject().NetDueDate).toISOString().split(".")[0]) + "',CashPlann+
ingGroup='" + encodeURIComponent(oCtx.getObject().CashPlanningGroup) + "')",                                                                                                                                                                                   
                    this.getView().getModel().read("/URL(CompanyCode='" + encodeURIComponent(oCtx.getObject().CompanyCode) + "',NetDueDate=datetime'" + encodeURIComponent(new Date(oCtx.getObject().NetDueDate).toISOString().split(".")[0]) + "',CashPlannin+
gGroup='',Tipo='2'," +                                                                                                                                                                                                                                         
                        "RepType='" + encodeURIComponent(oCtx.getObject().RepType) + "',hbkid='" + encodeURIComponent(oCtx.getObject().Bank) + "',rzawe='" + encodeURIComponent(oCtx.getObject().PaymentMethod) + "')",                                        
                        {                                                                                                                                                                                                                                      
                            success: function (oData, response) {                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                                switch (oControl.getId().split("-").pop()) {                                                                                                                                                                                   
                                    case "btnPaidButton":                                                                                                                                                                                                      
                                        if (oData.PaymentDocument == "")                                                                                                                                                                                       
                                            sap.m.MessageBox.information(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("PaymentError"));                                                                                               
                                        else                                                                                                                                                                                                                   
                                            sap.m.URLHelper.redirect(oData.PaymentDocument, false);                                                                                                                                                            
                                        break;                                                                                                                                                                                                                 
                                    case "btnOpenButton":                                                                                                                                                                                                      
                                        if (oData.OpenDocument == "")                                                                                                                                                                                          
                                            sap.m.MessageBox.information(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("OpenError"));                                                                                                  
                                        else                                                                                                                                                                                                                   
                                            sap.m.URLHelper.redirect(oData.OpenDocument, false);                                                                                                                                                               
                                        break;                                                                                                                                                                                                                 
                                    case "btnBlockedButton":                                                                                                                                                                                                   
                                        if (oData.BlockedDocument == "")                                                                                                                                                                                       
                                            sap.m.MessageBox.information(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("BlockError"));                                                                                                 
                                        else                                                                                                                                                                                                                   
                                            sap.m.URLHelper.redirect(oData.BlockedDocument, false);                                                                                                                                                            
                                        break;                                                                                                                                                                                                                 
                                    default:                                                                                                                                                                                                                   
                                        break;                                                                                                                                                                                                                 
                                }                                                                                                                                                                                                                              
                            },                                                                                                                                                                                                                                 
                            error: function (oError) {                                                                                                                                                                                                         
                            }                                                                                                                                                                                                                                  
                        });                                                                                                                                                                                                                                    
                }                                                                                                                                                                                                                                              
            }                                                                                                                                                                                                                                                  
        };                                                                                                                                                                                                                                                     
    });                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               