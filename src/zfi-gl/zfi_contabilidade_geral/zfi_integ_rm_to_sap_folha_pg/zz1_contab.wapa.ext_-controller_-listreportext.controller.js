sap.ui.define([],function(){"use strict";return{onInit:function(){},parseXmlToJson:function(e){const s={};for(const t of e.matchAll(/(?:<(\w*)(?:\s[^>]*)*>)((?:(?!<\1).)*)(?:<\/\1>)|<(\w*)(?:\s*)*\/>/gm)){const e=t[1]||t[3];const o=t[2]&&this.parseXmlToJ+
son(t[2]);s[e]=(o&&Object.keys(o).length?o:t[2])||null}return s},onNavegar:function(e){sap.ushell.Container.getService("CrossApplicationNavigation").isNavigationSupported([{target:{shellHash:"logcontabilizacao-display"}}]).done(function(e){e.map(function+
(e,s){if(e.supported===true){var t=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal({target:{semanticObject:"logcontabilizacao",action:"display"},params:{}})||"";sap.m.URLHelper.redirect(t,fa+
lse)}else{alert("Usuário sem permissão para acessar o link")}})}).fail(function(){alert("Falha ao acessar o link")})},onSimular:function(e){let s="/sap/opu/odata/SAP/ZFI_CONTABILIZACAO_SRV/";let t=new sap.ui.model.odata.ODataModel(s,false);let o="Simular+
Set";var a=function(e){return new Promise(function(e,s){t.read(o,{success:function(s,t){this.templateBaseExtension.getExtensionAPI().refreshTable();const o=t.headers["sap-message"];const a=JSON.parse(JSON.stringify(o));const i=this.parseXmlToJson(a);sap.+
ui.getCore().getMessageManager().addMessages(new sap.ui.core.message.Message({message:i.notification.message,persistent:true,type:sap.ui.core.MessageType.Success}));e()}.bind(this),error:function(e){sap.m.MessageToast.show("Existem registros com erro, nã+
o foi possivel Simular");s()}.bind(this)})}.bind(this))}.bind(this);var i={dataloss:false};this.extensionAPI.securedExecution(a,i)},onContabilizar:function(e){let s="/sap/opu/odata/SAP/ZFI_CONTABILIZACAO_SRV/";let t=new sap.ui.model.odata.ODataModel(s,fa+
lse);let o="ContabilizacaoSet";var a=function(e){return new Promise(function(e,s){t.read(o,{success:function(s,t){this.templateBaseExtension.getExtensionAPI().refreshTable();const o=t.headers["sap-message"];const a=JSON.parse(JSON.stringify(o));const i=t+
his.parseXmlToJson(a);sap.ui.getCore().getMessageManager().addMessages(new sap.ui.core.message.Message({message:i.notification.message,persistent:true,type:sap.ui.core.MessageType.Success}));e()}.bind(this),error:function(e){sap.m.MessageToast.show("Exis+
tem registros com erro, não foi possivel Contabilizar");s()}.bind(this)})}.bind(this))}.bind(this);var i={dataloss:false};if(!this.oApproveDialog){this.oApproveDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:"Confirmação",content:new sap.m.T+
ext({text:"Contabilizar todos os registros?"}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"Contabilizar",press:function(){this.extensionAPI.securedExecution(a,i);this.oApproveDialog.close();this.oApproveDialog.destroy();this.oApp+
roveDialog=null}.bind(this)}),endButton:new sap.m.Button({text:"Cancelar",press:function(){this.oApproveDialog.close();this.oApproveDialog.destroy();this.oApproveDialog=null}.bind(this)})})}this.oApproveDialog.open()},onEliminar:function(e){let s="/sap/o+
pu/odata/SAP/ZFI_CONTABILIZACAO_SRV/";let t=new sap.ui.model.odata.ODataModel(s,false);let o="EliminarSet";let a=this.getView().byId("listReportFilter").getFilters();var i=function(e){return new Promise(function(e,s){t.read(o,{filters:a,success:function(+
s,t){this.templateBaseExtension.getExtensionAPI().refreshTable();const o=t.headers["sap-message"];const a=JSON.parse(JSON.stringify(o));const i=this.parseXmlToJson(a);sap.ui.getCore().getMessageManager().addMessages(new sap.ui.core.message.Message({messa+
ge:i.notification.message,persistent:true,type:sap.ui.core.MessageType.Success}));e()}.bind(this),error:function(e){sap.m.MessageToast.show("Erro ao tentar eliminar registros");s()}.bind(this)})}.bind(this))}.bind(this);var n={dataloss:false};if(!this.oA+
pproveDialog){this.oApproveDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:"Confirmação",content:new sap.m.Text({text:"Emilinar todos os registros?"}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"Eliminar",press:funct+
ion(){this.extensionAPI.securedExecution(i,n);this.oApproveDialog.close();this.oApproveDialog.destroy();this.oApproveDialog=null}.bind(this)}),endButton:new sap.m.Button({text:"Cancelar",press:function(){this.oApproveDialog.close();this.oApproveDialog.de+
stroy();this.oApproveDialog=null}.bind(this)})})}this.oApproveDialog.open()}}});                                                                                                                                                                               