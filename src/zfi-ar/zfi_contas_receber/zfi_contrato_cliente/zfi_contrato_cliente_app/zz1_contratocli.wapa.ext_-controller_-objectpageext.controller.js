sap.ui.define(["sap/m/VBox","sap/m/RadioButtonGroup","sap/m/RadioButton","sap/m/Label","sap/ui/core/util/File"],function(e,t,a,o,n){"use strict";return{GetRadioButtonGroup:function(){this.RadioButtonGroup=new e({items:[new o({labelFor:"RBG-Anexo",text:"S+
elecione o Tipo de Anexo do Documento:"}),this.oRadionGroup=new t("RBG-Anexo",{selectedIndex:2,buttons:[new a({text:"Contrato Assinado"}),new a({text:"Minuta"}),new a({text:"Outros"}),new a({text:"Parecer"})]})]});this.RadioButtonGroup.addStyleClass("sap+
UiMediumMarginTop");return this.RadioButtonGroup},onAnexar:function(e){let t=e.getSource().getParent().getParent();var a=new sap.m.Dialog({contentWidth:"300px",resizable:true,type:"Message"});a.setTitle("Carregar arquivo");var o="/sap/opu/odata/SAP/ZFI_C+
ARGA_CONTRATO_CLIENTE_SRV/";var n=new sap.ui.model.odata.ODataModel(o,false);var r=new sap.ui.unified.FileUploader({width:"100%",uploadComplete:function(e){t.getModel().refresh(true);a.close();a.destroy();if(e.mParameters.status=="200"||e.mParameters.sta+
tus=="201"||e.mParameters.status=="204"){sap.m.MessageToast.show("Carga realizada com sucesso.")}else{alert("Return Code: "+e.mParameters.response,"Response","Response")}}.bind(this)});r.setName("Simple Uploader");r.setSendXHR(true);r.setUseMultipart(fal+
se);r.setUploadOnChange(false);var s=new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:n.getSecurityToken()});r.insertHeaderParameter(s);var i=new sap.m.Button({text:"Upload",type:"Accept",press:function(){var e=this.templateBaseExtensi+
on.getExtensionAPI().getNavigationController().getCurrentKeys()[1];var t=`${o}Arquivos(DocUuidH=${e},TipoDoc='${this.oRadionGroup.getSelectedIndex()+1}')/Upload`;r.setUploadUrl(t);var a=r.getFocusDomRef();var n=a.files[0];if(r.getValue()===""){sap.m.Mess+
ageToast.show("Favor selecionar um arquivo");return}var s=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:n.type});r.insertHeaderParameter(s);r.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"SLUG",value:r.getVal+
ue()}));r.upload()}.bind(this)});var u=new sap.m.Button({text:"Cancelar",type:"Reject",press:function(){a.close();a.destroy();this.getView().removeAllDependents()}.bind(this)});a.addContent(r);a.addContent(this.GetRadioButtonGroup());a.setBeginButton(u);+
a.setEndButton(i);a.open()},onDownload:function(e){var t="/sap/opu/odata/SAP/ZFI_CARGA_CONTRATO_CLIENTE_SRV/";var a=new sap.ui.model.odata.ODataModel(t);var o=e.getSource().getParent().getParent().getSelectedContexts()[0].sPath;var n=o.replace("ZC_FI_ANE+
XOS","Download");a.read(n,{success:function(e){let t="";let a="";let o=e.Filename.lastIndexOf(".");t=e.Filename.substr(0,o);a=e.Filename.substr(o+1);let n=atob(e.Value);var r=new Array(n.length);for(let e=0;e<n.length;e++){r[e]=n.charCodeAt(e)}var s=new +
Uint8Array(r);sap.ui.core.util.File.save(s,t,a,e.Mimetype)}})}}});                                                                                                                                                                                             